!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function c(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,f=Object.create(c.prototype);return a(f,"_invoke",function(r,n,i){var o,a,c,s=0,f=i||[],l=!1,h={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,a=0,c=e,h.n=r,u}};function d(r,n){for(a=r,c=n,t=0;!l&&s&&!i&&t<f.length;t++){var i,o=f[t],d=h.p,p=o[2];r>3?(i=p===n)&&(c=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=d&&((i=r<2&&d<o[1])?(a=0,h.v=n,h.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,h.n=p,a=0))}if(i||r>1)return u;throw l=!0,n}return function(i,f,p){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,p),a=f,c=p;(t=a<2?e:c)||!l;){o||(a?a<3?(a>1&&(h.n=-1),d(a,c)):h.n=c:h.v=c);try{if(s=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(l=h.n<0)?c:r.call(n,h))!==u)break}catch(t){o=e,a=1,c=t}finally{s=1}}return{value:t,done:l}}}(r,i,o),!0),f}var u={};function s(){}function f(){}function l(){}t=Object.getPrototypeOf;var h=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(h);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,a(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return f.prototype=l,a(d,"constructor",l),a(l,"constructor",f),f.displayName="GeneratorFunction",a(l,i,"GeneratorFunction"),a(d),a(d,i,"Generator"),a(d,n,function(){return this}),a(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:p}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function c(e,t,r,n,i,o,a){try{var c=e[o](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,u,"next",e)}function u(e){c(o,n,i,a,u,"throw",e)}a(void 0)})}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}function l(t,r,n){return r=d(r),function(t,r){if(r&&("object"==e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,h()?Reflect.construct(r,n||[],d(t).constructor):r.apply(t,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}System.register(["./capacitor-legacy-CZnNrTAD.js","./index-legacy-C24KLkaS.js","./vendor-legacy-Df0PDvMc.js","./supabase-legacy-CtE5qGkR.js"],function(e,n){"use strict";var i,a,c;return{setters:[function(e){i=e.W,a=e.b},function(e){c=e.E},null,null],execute:function(){function n(e){var t=e.split("/").filter(function(e){return"."!==e}),r=[];return t.forEach(function(e){".."===e&&r.length>0&&".."!==r[r.length-1]?r.pop():r.push(e)}),r.join("/")}function f(e,t){e=n(e),t=n(t);var r=e.split("/"),i=t.split("/");return e!==t&&r.every(function(e,t){return e===i[t]})}var h=function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=l(this,n,arguments)).DB_VERSION=1,e.DB_NAME="Disc",e._writeCmds=["add","put","delete"],e.downloadFile=function(){var t=u(o().m(function t(r){var n,i,c,u,s,f,l,h,d,p,y,b,v,m,w,g,k,S,j,E;return o().w(function(t){for(;;)switch(t.n){case 0:return c=a(r,r.webFetchExtra),t.n=1,fetch(r.url,c);case 1:if(u=t.v,r.progress){t.n=3;break}return t.n=2,u.blob();case 2:s=t.v,t.n=13;break;case 3:if(null==u?void 0:u.body){t.n=4;break}s=new Blob,t.n=13;break;case 4:f=u.body.getReader(),l=0,h=[],d=u.headers.get("content-type"),p=parseInt(u.headers.get("content-length")||"0",10);case 5:return t.n=6,f.read();case 6:if(y=t.v,b=y.done,v=y.value,!b){t.n=7;break}return t.a(3,8);case 7:h.push(v),l+=(null==v?void 0:v.length)||0,m={url:r.url,bytes:l,contentLength:p},e.notifyListeners("progress",m),t.n=5;break;case 8:w=new Uint8Array(l),g=0,k=0,S=h;case 9:if(!(k<S.length)){t.n=12;break}if(void 0!==(j=S[k])){t.n=10;break}return t.a(3,11);case 10:w.set(j,g),g+=j.length;case 11:k++,t.n=9;break;case 12:s=new Blob([w.buffer],{type:d||void 0});case 13:return t.n=14,e.writeFile({path:r.path,directory:null!==(n=r.directory)&&void 0!==n?n:void 0,recursive:null!==(i=r.recursive)&&void 0!==i&&i,data:s});case 14:return E=t.v,t.a(2,{path:E.uri,blob:s})}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(n,e),i=n,h=[{key:"readFileInChunks",value:function(e,t){throw this.unavailable("Method not implemented.")}},{key:"initDb",value:(B=u(o().m(function e(){var t=this;return o().w(function(e){for(;;)switch(e.n){case 0:if(void 0===this._db){e.n=1;break}return e.a(2,this._db);case 1:if("indexedDB"in window){e.n=2;break}throw this.unavailable("This browser doesn't support IndexedDB");case 2:return e.a(2,new Promise(function(e,r){var i=indexedDB.open(t.DB_NAME,t.DB_VERSION);i.onupgradeneeded=n.doUpgrade,i.onsuccess=function(){t._db=i.result,e(i.result)},i.onerror=function(){return r(i.error)},i.onblocked=function(){}}))}},e,this)})),function(){return B.apply(this,arguments)})},{key:"dbRequest",value:(q=u(o().m(function e(t,n){var i;return o().w(function(e){for(;;)if(0===e.n)return i=-1!==this._writeCmds.indexOf(t)?"readwrite":"readonly",e.a(2,this.initDb().then(function(e){return new Promise(function(o,a){var c=e.transaction(["FileStorage"],i).objectStore("FileStorage"),u=c[t].apply(c,r(n));u.onsuccess=function(){return o(u.result)},u.onerror=function(){return a(u.error)}})}))},e,this)})),function(e,t){return q.apply(this,arguments)})},{key:"dbIndexRequest",value:(_=u(o().m(function e(t,n,i){var a;return o().w(function(e){for(;;)if(0===e.n)return a=-1!==this._writeCmds.indexOf(n)?"readwrite":"readonly",e.a(2,this.initDb().then(function(e){return new Promise(function(o,c){var u=e.transaction(["FileStorage"],a).objectStore("FileStorage").index(t),s=u[n].apply(u,r(i));s.onsuccess=function(){return o(s.result)},s.onerror=function(){return c(s.error)}})}))},e,this)})),function(e,t,r){return _.apply(this,arguments)})},{key:"getPath",value:function(e,t){var r=void 0!==t?t.replace(/^[/]+|[/]+$/g,""):"",n="";return void 0!==e&&(n+="/"+e),""!==t&&(n+="/"+r),n}},{key:"clear",value:(F=u(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initDb();case 1:e.v.transaction(["FileStorage"],"readwrite").objectStore("FileStorage").clear();case 2:return e.a(2)}},e,this)})),function(){return F.apply(this,arguments)})},{key:"readFile",value:(x=u(o().m(function e(t){var r,n;return o().w(function(e){for(;;)switch(e.n){case 0:return r=this.getPath(t.directory,t.path),e.n=1,this.dbRequest("get",[r]);case 1:if(void 0!==(n=e.v)){e.n=2;break}throw Error("File does not exist.");case 2:return e.a(2,{data:n.content?n.content:""})}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"writeFile",value:(R=u(o().m(function e(t){var r,n,i,a,c,u,s,f,l,h;return o().w(function(e){for(;;)switch(e.n){case 0:return r=this.getPath(t.directory,t.path),n=t.data,i=t.encoding,a=t.recursive,e.n=1,this.dbRequest("get",[r]);case 1:if(!(c=e.v)||"directory"!==c.type){e.n=2;break}throw Error("The supplied path is a directory.");case 2:return u=r.substr(0,r.lastIndexOf("/")),e.n=3,this.dbRequest("get",[u]);case 3:if(void 0!==e.v){e.n=4;break}if(-1===(s=u.indexOf("/",1))){e.n=4;break}return f=u.substr(s),e.n=4,this.mkdir({path:f,directory:t.directory,recursive:a});case 4:if(i||n instanceof Blob){e.n=5;break}if(n=n.indexOf(",")>=0?n.split(",")[1]:n,this.isBase64String(n)){e.n=5;break}throw Error("The supplied data is not valid base64 content.");case 5:return l=Date.now(),h={path:r,folder:u,type:"file",size:n instanceof Blob?n.size:n.length,ctime:l,mtime:l,content:n},e.n=6,this.dbRequest("put",[h]);case 6:return e.a(2,{uri:h.path})}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"appendFile",value:(P=u(o().m(function e(t){var r,n,i,a,c,u,s,f,l,h;return o().w(function(e){for(;;)switch(e.n){case 0:return r=this.getPath(t.directory,t.path),n=t.data,i=t.encoding,a=r.substr(0,r.lastIndexOf("/")),c=Date.now(),u=c,e.n=1,this.dbRequest("get",[r]);case 1:if(!(s=e.v)||"directory"!==s.type){e.n=2;break}throw Error("The supplied path is a directory.");case 2:return e.n=3,this.dbRequest("get",[a]);case 3:if(void 0!==e.v){e.n=4;break}if(-1===(f=a.indexOf("/",1))){e.n=4;break}return l=a.substr(f),e.n=4,this.mkdir({path:l,directory:t.directory,recursive:!0});case 4:if(i||this.isBase64String(n)){e.n=5;break}throw Error("The supplied data is not valid base64 content.");case 5:if(void 0===s){e.n=7;break}if(!(s.content instanceof Blob)){e.n=6;break}throw Error("The occupied entry contains a Blob object which cannot be appended to.");case 6:n=void 0===s.content||i?s.content+n:btoa(atob(s.content)+atob(n)),u=s.ctime;case 7:return h={path:r,folder:a,type:"file",size:n.length,ctime:u,mtime:c,content:n},e.n=8,this.dbRequest("put",[h]);case 8:return e.a(2)}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"deleteFile",value:(O=u(o().m(function e(t){var r;return o().w(function(e){for(;;)switch(e.n){case 0:return r=this.getPath(t.directory,t.path),e.n=1,this.dbRequest("get",[r]);case 1:if(void 0!==e.v){e.n=2;break}throw Error("File does not exist.");case 2:return e.n=3,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(r)]);case 3:if(0===e.v.length){e.n=4;break}throw Error("Folder is not empty.");case 4:return e.n=5,this.dbRequest("delete",[r]);case 5:return e.a(2)}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"mkdir",value:(E=u(o().m(function e(t){var r,n,i,a,c,u,s,f,l;return o().w(function(e){for(;;)switch(e.n){case 0:return r=this.getPath(t.directory,t.path),n=t.recursive,i=r.substr(0,r.lastIndexOf("/")),a=(r.match(/\//g)||[]).length,e.n=1,this.dbRequest("get",[i]);case 1:return c=e.v,e.n=2,this.dbRequest("get",[r]);case 2:if(u=e.v,1!==a){e.n=3;break}throw Error("Cannot create Root directory");case 3:if(void 0===u){e.n=4;break}throw Error("Current directory does already exist.");case 4:if(n||2===a||void 0!==c){e.n=5;break}throw Error("Parent directory must exist");case 5:if(!n||2===a||void 0!==c){e.n=6;break}return s=i.substr(i.indexOf("/",1)),e.n=6,this.mkdir({path:s,directory:t.directory,recursive:n});case 6:return f=Date.now(),l={path:r,folder:i,type:"directory",size:0,ctime:f,mtime:f},e.n=7,this.dbRequest("put",[l]);case 7:return e.a(2)}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"rmdir",value:(j=u(o().m(function e(r){var n,i,a,c,u,s,f,l,h,d,p;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=r.path,i=r.directory,a=r.recursive,c=this.getPath(i,n),e.n=1,this.dbRequest("get",[c]);case 1:if(void 0!==(u=e.v)){e.n=2;break}throw Error("Folder does not exist.");case 2:if("directory"===u.type){e.n=3;break}throw Error("Requested path is not a directory");case 3:return e.n=4,this.readdir({path:n,directory:i});case 4:if(0===(s=e.v).files.length||a){e.n=5;break}throw Error("Folder is not empty");case 5:f=t(s.files),e.p=6,f.s();case 7:if((l=f.n()).done){e.n=12;break}return h=l.value,d="".concat(n,"/").concat(h.name),e.n=8,this.stat({path:d,directory:i});case 8:if("file"!==e.v.type){e.n=10;break}return e.n=9,this.deleteFile({path:d,directory:i});case 9:e.n=11;break;case 10:return e.n=11,this.rmdir({path:d,directory:i,recursive:a});case 11:e.n=7;break;case 12:e.n=14;break;case 13:e.p=13,p=e.v,f.e(p);case 14:return e.p=14,f.f(),e.f(14);case 15:return e.n=16,this.dbRequest("delete",[c]);case 16:return e.a(2)}},e,this,[[6,13,14,15]])})),function(e){return j.apply(this,arguments)})},{key:"readdir",value:(S=u(o().m(function e(t){var r,n,i,a,c=this;return o().w(function(e){for(;;)switch(e.n){case 0:return r=this.getPath(t.directory,t.path),e.n=1,this.dbRequest("get",[r]);case 1:if(n=e.v,""===t.path||void 0!==n){e.n=2;break}throw Error("Folder does not exist.");case 2:return e.n=3,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(r)]);case 3:return i=e.v,e.n=4,Promise.all(i.map(function(){var e=u(o().m(function e(t){var n;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,c.dbRequest("get",[t]);case 1:if(void 0!==(n=e.v)){e.n=3;break}return e.n=2,c.dbRequest("get",[t+"/"]);case 2:n=e.v;case 3:return e.a(2,{name:t.substring(r.length+1),type:n.type,size:n.size,ctime:n.ctime,mtime:n.mtime,uri:n.path})}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return a=e.v,e.a(2,{files:a})}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"getUri",value:(k=u(o().m(function e(t){var r,n;return o().w(function(e){for(;;)switch(e.n){case 0:return r=this.getPath(t.directory,t.path),e.n=1,this.dbRequest("get",[r]);case 1:if(void 0!==(n=e.v)){e.n=3;break}return e.n=2,this.dbRequest("get",[r+"/"]);case 2:n=e.v;case 3:return e.a(2,{uri:(null==n?void 0:n.path)||r})}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"stat",value:(g=u(o().m(function e(t){var r,n;return o().w(function(e){for(;;)switch(e.n){case 0:return r=this.getPath(t.directory,t.path),e.n=1,this.dbRequest("get",[r]);case 1:if(void 0!==(n=e.v)){e.n=3;break}return e.n=2,this.dbRequest("get",[r+"/"]);case 2:n=e.v;case 3:if(void 0!==n){e.n=4;break}throw Error("Entry does not exist.");case 4:return e.a(2,{name:n.path.substring(r.length+1),type:n.type,size:n.size,ctime:n.ctime,mtime:n.mtime,uri:n.path})}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"rename",value:(w=u(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._copy(t,!0);case 1:return e.a(2)}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"copy",value:(m=u(o().m(function e(t){return o().w(function(e){for(;;)if(0===e.n)return e.a(2,this._copy(t,!1))},e,this)})),function(e){return m.apply(this,arguments)})},{key:"requestPermissions",value:(v=u(o().m(function e(){return o().w(function(e){for(;;)if(0===e.n)return e.a(2,{publicStorage:"granted"})},e)})),function(){return v.apply(this,arguments)})},{key:"checkPermissions",value:(b=u(o().m(function e(){return o().w(function(e){for(;;)if(0===e.n)return e.a(2,{publicStorage:"granted"})},e)})),function(){return b.apply(this,arguments)})},{key:"_copy",value:(y=u(o().m(function e(r){var n,i,a,s,l,h,d,p,y,b,v,m,w,g,k,S,j,E,O,P,R,x,F=this,_=arguments;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=_.length>1&&void 0!==_[1]&&_[1],i=r.toDirectory,a=r.to,s=r.from,l=r.directory,a&&s){e.n=1;break}throw Error("Both to and from must be provided");case 1:if(i||(i=l),h=this.getPath(l,s),d=this.getPath(i,a),h!==d){e.n=2;break}return e.a(2,{uri:d});case 2:if(!f(h,d)){e.n=3;break}throw Error("To path cannot contain the from path");case 3:return e.p=3,e.n=4,this.stat({path:a,directory:i});case 4:p=e.v,e.n=7;break;case 5:if(e.p=5,e.v,(y=a.split("/")).pop(),b=y.join("/"),!(y.length>0)){e.n=7;break}return e.n=6,this.stat({path:b,directory:i});case 6:if("directory"===e.v.type){e.n=7;break}throw new Error("Parent directory of the to path is a file");case 7:if(!p||"directory"!==p.type){e.n=8;break}throw new Error("Cannot overwrite a directory with a file");case 8:return e.n=9,this.stat({path:s,directory:l});case 9:v=e.v,m=function(){var e=u(o().m(function e(t,r,n){var a,c;return o().w(function(e){for(;;)switch(e.n){case 0:return a=F.getPath(i,t),e.n=1,F.dbRequest("get",[a]);case 1:return(c=e.v).ctime=r,c.mtime=n,e.n=2,F.dbRequest("put",[c]);case 2:return e.a(2)}},e)}));return function(t,r,n){return e.apply(this,arguments)}}(),w=v.ctime?v.ctime:Date.now(),R=v.type,e.n="file"===R?10:"directory"===R?15:29;break;case 10:return e.n=11,this.readFile({path:s,directory:l});case 11:if(g=e.v,!n){e.n=12;break}return e.n=12,this.deleteFile({path:s,directory:l});case 12:return g.data instanceof Blob||this.isBase64String(g.data)||(k=c.UTF8),e.n=13,this.writeFile({path:a,directory:i,data:g.data,encoding:k});case 13:if(S=e.v,!n){e.n=14;break}return e.n=14,m(a,w,v.mtime);case 14:return e.a(2,S);case 15:if(!p){e.n=16;break}throw Error("Cannot move a directory over an existing object");case 16:return e.p=16,e.n=17,this.mkdir({path:a,directory:i,recursive:!1});case 17:if(!n){e.n=18;break}return e.n=18,m(a,w,v.mtime);case 18:e.n=20;break;case 19:e.p=19,e.v;case 20:return e.n=21,this.readdir({path:s,directory:l});case 21:j=e.v.files,E=t(j),e.p=22,E.s();case 23:if((O=E.n()).done){e.n=25;break}return P=O.value,e.n=24,this._copy({from:"".concat(s,"/").concat(P.name),to:"".concat(a,"/").concat(P.name),directory:l,toDirectory:i},n);case 24:e.n=23;break;case 25:e.n=27;break;case 26:e.p=26,x=e.v,E.e(x);case 27:return e.p=27,E.f(),e.f(27);case 28:if(!n){e.n=29;break}return e.n=29,this.rmdir({path:s,directory:l});case 29:return e.a(2,{uri:d})}},e,this,[[22,26,27,28],[16,19],[3,5]])})),function(e){return y.apply(this,arguments)})},{key:"isBase64String",value:function(e){try{return btoa(atob(e))==e}catch(t){return!1}}}],d=[{key:"doUpgrade",value:function(e){var t=e.target.result;e.oldVersion,t.objectStoreNames.contains("FileStorage")&&t.deleteObjectStore("FileStorage"),t.createObjectStore("FileStorage",{keyPath:"path"}).createIndex("by_folder","folder")}}],h&&s(i.prototype,h),d&&s(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,h,d,y,b,v,m,w,g,k,S,j,E,O,P,R,x,F,_,q,B}(i);e("FilesystemWeb",h),h._debug=!0}}})}();
